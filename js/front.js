var utils;(utils=utils||{}).arrayHelper={findIndex:function(e,t,i){if(!e||!Array.isArray(e))return 0;for(var r=0;r<e.length;r+=1)if(e[r][t]===i)return r;return-1},replaceElement:function(e,t,i){let r=e.indexOf(t);r>-1&&(e[r]=i)},deleteElement:function(e,t){let i=e.indexOf(t);i>-1&&e.splice(i,1)},deleteWithIndex:function(e,t){e.splice(t,1)},deleteWithProp:function(e,t,i){let r=utils.arrayHelper.findIndex(e,t,i);return-1!==r&&(utils.arrayHelper.deleteWithIndex(e,r),!0)},deleteWithGuid:function(e,t){let i=utils.arrayHelper.findIndex(e,"Guid",t);-1!==i&&utils.arrayHelper.deleteWithIndex(e,i)},findItem:function(e,t,i){return e.find(e=>e[t]===i)},filterItems:function(e,t,i){return e.filter(e=>e[t]===i)},findItemByGuid:function(e,t){return utils.arrayHelper.findItem(e,"Guid",t)},findItemsWithProp:function(e,t){return $.grep(e,function(e){return e[t]})}},utils.objectHelper={findItemByGuid:function(e,t){for(let i in e)if(e[i].Guid===t)return e[i];return!1},findIndex:function(e,t,i){for(let r in e)if(e[r][t]===i)return r;return!1}},(utils=utils||{}).miscFront={generateGuid:function(){let e="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",i=t.charAt(Math.floor(Math.random()*t.length+1));for(let t=15;t>0;--t)i+=e[Math.floor(Math.random()*e.length)];return i},pxToVw:function(e){let t=utils.environment.wWidth();return Math.round(e/t*100*1e4)/1e4},isElementInViewport(e){let t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)},isPbDomain:e=>-1!==e.indexOf(".portfoliobox.net")||(-1!==e.indexOf(".pb.photography")||(-1!==e.indexOf(".pb.design")||(-1!==e.indexOf(".pb.style")||(-1!==e.indexOf(".pb.studio")||(-1!==e.indexOf(".pb.online")||-1!==e.indexOf(".pb.store")))))),preloadImg(e){window.preloadedImg=window.preloadedImg||{},window.preloadedImg[e]||(window.preloadedImg[e]=new Image,window.preloadedImg[e].src=e)},trackViewPoint:function(e){let t={root:document.querySelector("#frontApp"),rootMargin:window.pb.isAdmin?"185px 8% 0px 8%":"0px 0px 0px 0px",threshold:[0]},i=new IntersectionObserver(function(e){e.forEach(e=>{e.isIntersecting&&e.target.classList.add("inViewPoint")})},t),r=document.querySelectorAll(e);for(let e of r)i.observe(e)},validateEmail:e=>/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase()),mathRound2:e=>Math.round(100*e)/100,mathFloor2:e=>Math.floor(100*e)/100,adjustThumbForScreen:e=>(utils.environment.widthConst<400&&"w1000"===e&&(e="w400"),utils.environment.widthConst<1e3&&(e?"h800"===e&&(e="h400"):e="w1000"),e),shareLink:{facebook:function(e){return"https://www.facebook.com/sharer/sharer.php?u="+e},twitter:function(e,t){return"https://www.twitter.com/share?text="+t+"&url="+e+"&hashtags=creativity,visuals,website,portfoliobox"},linkedIn:function(e){return"https://www.linkedin.com/shareArticle?mini=true&url="+e+"&title="+site.Title+"&summary=Checkout my website!"},pinterest:function(e){return"https://www.pinterest.com/pin/create/button/?url="+e+"&description="+site.Title}},renderCaptchaAndGetToken:function(e){return new Promise(function(e,t){var i=grecaptcha.render("recaptchaHolder",{sitekey:"6LfffzgUAAAAAJiFD4FTqkSqn1AeJanRwl6EuLyT",size:"invisible",badge:"bottomright",callback:function(t){e(t)}});grecaptcha.execute(i);var r=1,n=function(){setTimeout(function(){var e=document.getElementsByTagName("iframe");if(e&&e.length>0)for(var t=0;t<e.length;t++){var i=e[t];if(i.src.indexOf("www.google.com/recaptcha/api2/bframe")>-1){if(i.title.indexOf("recaptcha")>-1){var o=i.parentElement;if(o){var s=o.previousSibling;s&&(s.style["pointer-events"]="none")}}return!0}}return++r<20&&n(),!1},300)};n()})},addBrowserClassToBody:function(){let e=utils.environment.getBrowser();e&&e.name&&document.body.classList.add("b"+e.name),e&&e.name&&e.version&&document.body.classList.add("b"+e.name+"-"+e.version)},makeIFrame:function(e,t,i,r,n,o,s){return e+="?enablejsapi=1","1"==r&&(e+="&title=0&byline=0&portrait=0&sidedock=0&controls=0&modestbranding=1&autohide=1&showinfo=0"),"1"==n&&(e+="&autoplay=1"),"1"==o&&(e+="&background=1"),s||(s="iframe-video"),'<iframe id="'+s+'" width="'+t+'" height="'+i+'" src="'+e+'" frameborder="0" allow="fullscreen; accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>'}},(utils=utils||{}).jsonLd={product:function(e,t,i,r){let n=e.TextContent.replace(/<\/?[^>]+(>|$)/g,""),o=[];e.Items&&e.Items.length>0&&e.Items.forEach(function(e){o.push(e.Content.Src)});let s={"@context":"https://schema.org/","@type":"Product",name:e.Title?e.Title:"",image:o,description:n,sku:e.Guid,offers:{"@type":"Offer",url:t,priceCurrency:r.Currency,price:e.Price,availability:"https://schema.org/InStock",seller:{"@type":"Organization",name:i}}};return JSON.stringify(s)},post:function(e,t,i){let r=e.TextContent.replace(/<\/?[^>]+(>|$)/g,""),n=e.TextContent.substring(0,255),o=[];e.Items&&e.Items.length>0&&e.Items.forEach(function(e){o.push(e.Content.Src)});let s={"@context":"https://schema.org","@type":"BlogPosting",headline:e.Title,image:o,publisher:i,url:t,datePublished:e.PostDate,dateCreated:e.PostDate,description:n,articleBody:r,author:{"@type":"Person",name:i}};return JSON.stringify(s)},page:function(e,t){let i={"@context":"https://schema.org","@type":"WebPage",name:e.SeoTitle?e.SeoTitle:e.Title,description:e.SeoDescription?e.SeoDescription:"",url:t};return JSON.stringify(i)},blogOrStore:function(e,t,i){let r={"@context":"https://schema.org","@type":"WebPage",name:e,description:t,url:i};return JSON.stringify(r)}},(utils=utils||{}).environment={widthConst:0,wHeight:function(){let e=window,t=document,i=t.documentElement,r=t.getElementsByTagName("body")[0];return e.innerHeight||i.clientHeight||r.clientHeight},wWidth:function(){let e=window,t=document,i=t.documentElement,r=t.getElementsByTagName("body")[0];return e.innerWidth||i.clientWidth||r.clientWidth},isTouch:function(){return"ontouchstart"in document.documentElement},_browser:{name:"",version:""},getBrowser:function(){if(utils.environment._browser.name)return utils.environment._browser;var e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?{name:"IE",version:(e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||""}:"Chrome"===i[1]&&null!=(e=t.match(/\bOPR|Edge\/(\d+)/))?{name:"Opera",version:e[1]}:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),utils.environment._browser={name:i[0],version:i[1]},utils.environment._browser)}},utils.environment.widthConst=utils.environment.wWidth(),(utils=utils||{}).templates={sameRatioScript:function(e,t){let i,r=utils.miscFront.pxToVw(e.$refs.items.$el.clientWidth),n=e.section.ElementsFixed.Items1,o=function(e){let t;return e.Settings||e.Settings["item-size"]?t="1"===e.Settings["item-size"]?6:"2"===e.Settings["item-size"]?5:"3"===e.Settings["item-size"]?4:"4"===e.Settings["item-size"]?3:"5"===e.Settings["item-size"]?2:4:4}(n),s=function(e){return e.Settings||e.Settings["item-margin"]?parseFloat(e.Settings["item-margin"]):1}(n),a=(r-(o-1)*s)/(o*t);i=n.Content&&Array.isArray(n.Content)?n.Content:document.getElementById(n.Guid).getElementsByClassName("Item");for(let e of i){let t;t=e.Guid?e.Guid:e.id;let i=document.getElementById("imgWrapper-"+t);i&&(i.style.height=a+"vw")}let l=document.getElementById(n.Guid);l.style.gridGap=s+"vw",l.style.gridTemplateColumns="repeat("+o+", 1fr)"},sameRatioStoreScript:function(e,t){let i=utils.miscFront.pxToVw(e.$refs.items.clientWidth),r=function(e){let t;return e||e["item-size"]?t="1"===e["item-size"]?6:"2"===e["item-size"]?5:"3"===e["item-size"]?4:"4"===e["item-size"]?3:"5"===e["item-size"]?2:4:4}(e.store.Settings),n=(o=e.store.Settings)||o["item-margin"]?parseFloat(o["item-margin"]):1;var o;let s=(i-(r-1)*n)/(r*t);for(let t of e.products){let e=t.Guid;document.getElementById("imgWrapper-"+e)&&(document.getElementById("imgWrapper-"+e).style.height=s+"vw")}let a=e.$refs.items;a.style.gridGap=n+"vw",a.style.gridTemplateColumns="repeat("+r+", 1fr)"}};let pages={state:{current:{url:"",page:{},showLightbox:!1},startPage:null,pages:[]},actions:{getStartPage(){if(pages.state.startPage)return pages.state.startPage;{let e=utils.arrayHelper.findItem(pages.state.pages,"IsStartPage",1);return pages.state.startPage=e}},getCurrentPage(e){if(e===pages.state.current.url&&pages.state.current.page.Guid)return pages.state.current.page;{let t;return!!(t="/"===e?pages.actions.getStartPage():utils.arrayHelper.findItem(pages.state.pages,"Url",e))&&(pages.state.current.page=t)}},setNewStartPage(e){pages.state.startPage=e},addSection(e){let t,i,r=gui.state.clickPoint.sectionGuid;if(r){let e=(new E_Query).getType("Section").isSection(r);t=e.PageGuid,i=e.selectIndex()}else t=pages.state.current.page.Guid,i=pages.state.current.page.Sections?pages.state.current.page.Sections.length:0;let n=new Section(t,i+1,e);n.Insert(),frontApp.$nextTick(function(){$("#frontApp").animate({scrollTop:$("#"+n.Guid).position().top},1e3)})},addElement(e,t){let i=new E_Query(e);ElementInterface.NewOfType(t).Insert(i)},addColumn(e){let t=new E_Query(e);(new Column).Insert(t)},dropElement(e){let t=new E_Query(e.source),i=t.selectOne(),r=t.selectIndex(),n=t.selectParent();utils.arrayHelper.deleteWithIndex(n,r);let o,s=new E_Query(e.target),a=s.selectParent();o=e.targetSibling.guid?utils.arrayHelper.findIndex(a,"Guid",e.targetSibling.guid):a.length,frontApp.$nextTick(function(){a.splice(o,0,i),ElementInterface.Update(s),t.SectionGuid===s.SectionGuid&&t.ElementsPosition===s.ElementsPosition||ElementInterface.Update(t)})},deleteElement(e){let t=new E_Query(e);ElementInterface.Delete(t)},isUrlAvailable:e=>!utils.arrayHelper.findItem(pages.state.pages,"Url",e),getNewAvailableUrlBasedOnUrl(e){let t=2,i="";for(;;){if(i=e+t,pages.actions.isUrlAvailable(i)){e=i;break}t++}return e},init:{serverPages:function(e){pages.state.pages=e}}}},checkoutStore={state:{cart:{products:[],nrInCart:0},showCheckout:!1},actions:{init:function(){checkoutStore.actions._fetchLocalStorage()},addToCart:function(e,t){let i=utils.arrayHelper.findItemByGuid(checkoutStore.state.cart.products,e.Guid);if(i&&!t)i.Quantity++;else if(t&&i&&t.Guid===i.VariantGuid)i.Quantity++;else{let i={Guid:e.Guid,CartGuid:e.Guid,Title:e.Title,Url:e.Url,Src:e.Items&&e.Items.length>0?e.Items[0].Content.Src:"",Price:e.Price,ExcludeTax:e.ExcludeTax,Weight:e.Shipping&&e.Shipping.IsPhysical?e.Shipping.Weight:0,Quantity:1};t&&(i.CartGuid=e.Guid+t.Guid,i.VariantGuid=t.Guid,i.VariantTitle=t.Title,i.Weight=e.Shipping&&e.Shipping.IsPhysical?t.Weight:0,i.Price=t.Price),e.Discount&&(i.Price=i.Price*(1-e.Discount/100),i.Discount=e.Discount),checkoutStore.state.cart.products.push(i),checkoutStore.state.cart.nrInCart++}checkoutStore.actions._updateLocalStorage()},removeProduct:function(e){utils.arrayHelper.deleteWithProp(checkoutStore.state.cart.products,"CartGuid",e.CartGuid),checkoutStore.state.cart.nrInCart--,checkoutStore.actions._updateLocalStorage()},updateQuantity:function(){checkoutStore.actions._updateLocalStorage()},clearCart:function(){localStorage.setItem("cart",null),localStorage.removeItem("cart"),checkoutStore.state.cart={products:[],nrInCart:0}},_updateLocalStorage:function(){localStorage.setItem("cart",JSON.stringify(checkoutStore.state.cart))},_fetchLocalStorage:function(){let e=localStorage.getItem("cart");e&&(checkoutStore.state.cart=JSON.parse(e))},_deleteLocalStorage:function(){localStorage.removeItem("cart")}}},site={state:{},actions:{_elementsToCss:function(e,t,i,r){let n="";t||(t="");let o=".";!0===i&&(o="");let s="";!0===r&&(s="!important");for(let i in e){n+=t+o+i+"{";let r=e[i];for(let e in r)n+=e+":"+r[e]+s+";";n+="} "}return n},classesToText(){let e=site.actions._elementsToCss(site.state.GlobalClasses);site.state.GlobalClasses.Page&&site.state.GlobalClasses.Page["background-color"]&&("rgba(0,0,0,0)"===site.state.GlobalClasses.Page["background-color"]?(e+=".Page {background-color:#ffffff;}",e+=".aFigcaption {background-color:#ffffff;}"):e+=".aFigcaption {background-color:"+site.state.GlobalClasses.Page["background-color"]+"}",e+="body { background-color : "+site.state.GlobalClasses.Page["background-color"]+"}"),site.state.GlobalStyleSheet=e},childClassesToText(){let e="";for(let t in site.state.ChildClasses){let i="#"+t+" ",r=site.state.ChildClasses[t];e+=site.actions._elementsToCss(r,i)}site.state.ChildClassesStyleSheet=e},mobileStylesToText(){let e="";site.state.MobileStyles&&(e="@media only screen and (max-width: 1000px) {",e+=site.actions._elementsToCss(site.state.MobileStyles,"#",!0,!0),e+="}",site.state.MobileStyleSheet=e)},globalLinksToText(){let e="";for(let t in site.state.GlobalLinks){let i="."+t+" ",r=site.state.GlobalLinks[t],n=!0;e+=site.actions._elementsToCss(r,i,n)}site.state.GlobalLinksStyleSheet=e},childLinksToText(){let e="";for(let t in site.state.ChildLinks){let i="#"+t+" ",r=site.state.ChildLinks[t],n=!0;e+=site.actions._elementsToCss(r,i,n)}site.state.ChildLinksStyleSheet=e},googleFontsToHref(){if(!site.state.GoogleFonts||site.state.GoogleFonts.length<1)site.state.GoogleFontsHref="";else{let e="https://fonts.googleapis.com/css?family=";site.state.GoogleFonts.forEach(function(t){e+=t.title.replace(" ","+")+":400,700|"}),e=e.substring(0,e.length-1),site.state.GoogleFontsHref=e}},changeMenu(e){site.state.MainMenu.View=e.View,site.state.MainMenu.ViewId=e.LangId,site.state.MainMenu.MenuType=e.MenuType,site.state.MainMenu.Settings=e.Settings,Site.Update("MainMenu",site.state.MainMenu)},init:{site:function(e){site.state=e,site.actions.googleFontsToHref(),site.actions.classesToText(),site.actions.childClassesToText(),site.actions.globalLinksToText(),site.actions.childLinksToText(),site.actions.mobileStylesToText(),site.state._wwwPrefix="",site.state.Url&&(!0===utils.miscFront.isPbDomain(site.state.Url)||(site.state._wwwPrefix="www.")),site.state._showMusicPlayer=!1,site.state._musicPlayerTrack={}}},addFontToGoogleFontString:function(e,t){if(e.family===t)return;(function(e){if(e&&site.state.GoogleFonts&&site.state.GoogleFonts.length>0){let t=utils.arrayHelper.findItem(site.state.GoogleFonts,"family",e);t&&(t.occurrences<2?utils.arrayHelper.deleteWithProp(site.state.GoogleFonts,"family",e):t.occurrences=t.occurrences-1)}})(t),function(e){if("google"===e.type)if(!site.state.GoogleFonts||site.state.GoogleFonts.length<1)site.state.GoogleFonts=[{family:e.family,title:e.title,occurrences:1,type:"google"}];else{let t=utils.arrayHelper.findItem(site.state.GoogleFonts,"family",e.family);t?t.occurrences=t.occurrences+1:site.state.GoogleFonts.push({family:e.family,title:e.title,occurrences:1,type:"google"})}}(e);Site.Update("GoogleFonts",site.state.GoogleFonts)}}},posts={state:{posts:[],current:{url:"",post:{}}},actions:{init:function(e){0!=site.state.BlogSettings.EnableBlog&&(posts.state.posts=e)},isUrlAvailable:e=>!utils.arrayHelper.findItem(posts.state.posts,"Url",e),getNewAvailableUrlBasedOnUrl(e){let t=2,i="";for(;;){if(i=e+t,posts.actions.isUrlAvailable(i)){e=i;break}t++}return e},getCurrentPost(e){if(e===posts.state.current.url&&posts.state.current.post.Guid)return posts.state.current.post;{let t;return!!(t=utils.arrayHelper.findItem(posts.state.posts,"Url",e))&&(posts.state.current.url=e,posts.state.current.post=t)}}}},postComment={state:{currentPost:null,isShown:!1},actions:{openCommentPopup:function(e){postComment.state.currentPost=e,postComment.state.isShown=!0},closeCommentPopup:function(){postComment.state.currentPost=null,postComment.state.isShown=!1}}},products={state:{products:[],current:{url:"",product:{}}},actions:{init:function(e){0!=site.state.StoreSettings.EnableStore&&(products.state.products=e)},isUrlAvailable:e=>!utils.arrayHelper.findItem(products.state.products,"Url",e),getNewAvailableUrlBasedOnUrl(e){let t=2,i="";for(;;){if(i=e+t,products.actions.isUrlAvailable(i)){e=i;break}t++}return e},getCurrentProduct(e){if(e===products.state.current.url&&products.state.current.product.Guid)return products.state.current.product;{let t;return!!(t=utils.arrayHelper.findItem(products.state.products,"Url",e))&&(products.state.current.url=e,products.state.current.product=t)}}}},productCategories={state:[],actions:{init:function(e){productCategories.state=e}}},translations={state:[],_englishState:{YourComment:"Your Comment",YourMessage:"Your Message",YourName:"Your Name",YourEmail:"Your Email",YourAddress:"Your Address",YourZip:"Your Zip",YourCity:"Your City",YourCountry:"Your Country",YourState:"Your State",WillNotBePublic:"Will not be public",Comment:"Comment",Submit:"Submit",AreYouSure:"Are You Sure?",NoFieldsCanBeEmpty:"No Fields can be Empty",Welcome:"Welcome",Password:"Password",Login:"Login",SelectImages:"Select Images",SelectImagesForClientGallery:"Select images with the plus icon and submit your selection when you are done.",OnlySelected:"Only Selected",OnlyCommented:"Only Commented",ImagesSelected:"Images Selected",ThankYou:"Thank You!",Store:"Store",Home:"Home",Labels:"Labels",Categories:"Categories",Search:"Search",All:"All",New:"New",OnSale:"On Sale",Popular:"Popular",LastChance:"Last Chance",SortBy:"Sort By",Latest:"Latest",Price:"Price",Title:"Title",AddToCart:"Add to Cart",PleaseSelectOneVariant:"Please select one of the variants.",ItemAddedToCart:"Thank you! The item was added to the cart.",CheckoutThis:"Check this out:",Off:"Off",ChooseAVariant:"Choose a Variant",Ok:"Ok",AreYouSureRemoveFromCart:"Are you sure that you want to remove this product from the cart?",EmailNotValid:"The email address is not valid. Enter another email address.",ShippingAddress:"Shipping Address",ShipToThisAddress:"Ship to this Address",ShipToAnotherAddress:"Ship to another Address",Name:"Name",Address:"Address",Zip:"Zip",City:"City",Country:"Country",State:"State",NeedToAcceptTerms:"You need to accept the terms and agreement.",DiscountCodeWasNotValid:"Sorry! The Discount Code was not Valid",DiscountApplied:"We have applied your discount!",Subtotal:"Subtotal",YourCart:"Your Cart",ReviewYourOrder:"Review Your Order",YourInfo:"Your Info",DiscountCode:"Discount Code",Check:"Check",ProceedToCheckout:"Proceed to Checkout",ExcludedFromTax:"Excluded from Tax",TaxIsIncluded:"Tax is Included",TaxIsIncludedExp:"You will receive a receipt with tax details later",ShippingCostAddedLater:"Shipping Cost will be added later. (After your approval)",Total:"Total",IAcceptTerms:"I accept the Terms and Privacy Policy",Confirm:"Confirm",Payment:"Payment",CompleteOrder:"Complete Order",CheckoutNotAvailable:"Checkout is not available for",ButThereIsHope:"But there is hope, please click below and I will manually handle your order.",DoManualCheckout:"Do the Manual Checkout",HowWouldYouLikeToPay:"How would you like to pay?",WithPayPal:"With PayPal",WithCard:"With Credit/Debit Card",ThankYouForMakingOrder:"Thank you for making this order! I will be in contact with you shortly.",ThankYouForMakingManualOrder:"Thank you! I will be in contact with you shortly to manually arrange your order.",TermsAndPrivacy:"Terms and Privacy",Done:"Done",No:"No",Yes:"Yes"},actions:{init:function(e){translations.state=Object.assign(translations._englishState,e)}}},clientGalleries={state:[],isFetched:!1,actions:{init:function(){return new Promise(e=>{0!==clientGalleries.state.length||clientGalleries.isFetched?e(clientGalleries.state):adminApi.getAllClientGalleries().then(t=>{console.log("Client galleries api"),clientGalleries.state=t,clientGalleries.isFetched=!0,e(clientGalleries.state)})})},isUrlAvailable:e=>!utils.arrayHelper.findItem(clientGalleries.state,"Url",e),getNewAvailableUrlBasedOnUrl(e){let t=2,i="";for(;;){if(i=e+t,clientGalleries.actions.isUrlAvailable(i)){e=i;break}t++}return e}}};